<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <title>Select User Order</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <style>
      .sidebar {
        font-family: "Poppins", sans-serif;
      }
      .dropdown-menu {
        overflow: hidden;
        max-height: 0;
        opacity: 0;
        visibility: hidden;
        transition: max-height 0.4s ease-out, opacity 0.3s ease-out,
          visibility 0s linear 0.4s;
        background-color: #1f2937;
      }
      .dropdown-parent.open .dropdown-menu {
        max-height: 200px;
        opacity: 1;
        visibility: visible;
        transition: max-height 0.4s ease-in, opacity 0.3s ease-in;
      }
      .arrow-icon {
        transition: transform 0.3s ease;
      }
    </style>
  </head>
  <body>
    <div th:replace="~{fragment/admin-layout :: layout(~{::content})}">
      <div th:fragment="content">
        <h1 class="text-2xl font-semibold text-white mb-6">
          Pilih User untuk Melihat Pesanan
        </h1>

        <div class="bg-gray-800 shadow-lg rounded-lg overflow-hidden">
          <table class="min-w-full divide-y divide-gray-700">
            <thead class="bg-gray-700">
              <tr>
                <th
                  class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase"
                >
                  ID
                </th>
                <th
                  class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase"
                >
                  Nama User
                </th>
                <th
                  class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase"
                >
                  Email
                </th>
                <th
                  class="px-6 py-3 text-center text-xs font-medium text-gray-300 uppercase"
                >
                  Aksi
                </th>
              </tr>
            </thead>
            <tbody class="divide-y divide-gray-700">
              <tr th:each="user : ${users}" class="hover:bg-gray-700/50">
                <td
                  class="px-6 py-4 text-sm text-gray-400"
                  th:text="${user.userId}"
                >
                  1
                </td>
                <td
                  class="px-6 py-4 text-sm text-white font-medium"
                  th:text="${user.name}"
                >
                  Nama
                </td>
                <td
                  class="px-6 py-4 text-sm text-gray-300"
                  th:text="${user.email}"
                >
                  email@mail.com
                </td>
                <td class="px-6 py-4 text-center">
                  <a
                    th:href="@{/admin/orders/{id}(id=${user.userId})}"
                    class="inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors"
                  >
                    <i class="ri-eye-line mr-2"></i> Lihat Detail Order
                  </a>
                </td>
              </tr>
              <tr th:if="${#lists.isEmpty(users)}">
                <td colspan="4" class="px-6 py-4 text-center text-gray-500">
                  Belum ada user.
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <script>
      if (!window.adminScriptLoaded) {
        document.addEventListener("DOMContentLoaded", function () {
          const dropdownToggles = document.querySelectorAll(".dropdown-toggle");
          dropdownToggles.forEach(function (toggle) {
            toggle.addEventListener("click", function (e) {
              const parentDiv = e.currentTarget.closest(".dropdown-parent");
              const icon = e.currentTarget.querySelector(".arrow-icon");
              parentDiv.classList.toggle("open");
              if (icon) {
                icon.classList.toggle("rotate-180");
              }
            });
          });
        });
        window.adminScriptLoaded = true;
      }
    </script>
  </body>
</html>
